@model ConstructIT.DAL.Models.Zadatak
@using ConstructIT.DAL.Models

@{
    ViewBag.Title = "Zadatak " + @Html.DisplayFor(model => model.ZadatakNaziv);

    var _komentarZadatak = new KomentarZadatak();
    var _potrebaMaterijala = new PotrebaMaterijala();
    var _potrebaStruke = new PotrebaStruke();
    var _potrebaTipaMasine = new PotrebaTipaMasine();
}

<h2>Zadatak - @Html.DisplayFor(model => model.ZadatakNaziv)</h2> 

<div>
    <h4 style="padding-left:3%">Projekat - @Html.DisplayFor(model => model.Projekat.ProjekatNaziv)</h4>
    @Html.ActionLink("Izmeni", "Edit", new { /* id = Model.PrimaryKey */ }, new { @style="position:relative; float:right; top: -10px; right:5%;"})
    <hr />
    <div style="position:relative; float:left; left:5%">

        <blockquote>

            @Html.DisplayNameFor(model => model.ZadatakDatumPocetka):

            @Html.DisplayFor(model => model.ZadatakDatumPocetka)

        </blockquote>
        <blockquote>
            @Html.DisplayNameFor(model => model.ZadatakDatumZavrsetka):

            @Html.DisplayFor(model => model.ZadatakDatumZavrsetka)
        </blockquote>

</div>

    <div style="position:relative; float:right; right:20%">

            <blockquote>

                @Html.DisplayNameFor(model => model.Prioritet.PrioritetNaziv):

                @Html.DisplayFor(model => model.Prioritet.PrioritetNaziv)

            </blockquote>
            <blockquote>
                @Html.DisplayNameFor(model => model.Status.StatusNaziv):

                @Html.DisplayFor(model => model.Status.StatusNaziv)
            </blockquote>

    </div>
    <div style="clear:both"></div>
    <div style="margin-left:10%; margin-right:10%;">

        <h4>@Html.DisplayNameFor(model => model.ZadatakOpis)</h4>

        <p>@Html.DisplayFor(model => model.ZadatakOpis)</p>

    </div>
</div>
<hr />
<ul class="nav nav-tabs">
    <li class="dropdown active">
        <a class="dropdown-toggle" data-toggle="dropdown" href="#" aria-expanded="false">
            O zadatku <span class="caret"></span>
        </a>
        <ul class="dropdown-menu">
            <li class="active"><a href="#komentari" data-toggle="tab" aria-expanded="true">Komentari</a></li>
            <li class="divider"></li>
            <li class=""><a href="#promene" data-toggle="tab" aria-expanded="false">Promene</a></li>
        </ul>
    </li>
    <li class="dropdown">
        <a class="dropdown-toggle" data-toggle="dropdown" href="#" aria-expanded="false">
            Potrebe zadatka <span class="caret"></span>
        </a>
        <ul class="dropdown-menu">
            <li class=""><a href="#proizvRadn" data-toggle="tab" aria-expanded="false">Proizvodni radnici</a></li>
            <li class="divider"></li>
            <li class=""><a href="#masine" data-toggle="tab" aria-expanded="false">Mašine</a></li>
            <li class="divider"></li>
            <li class=""><a href="#materijali" data-toggle="tab" aria-expanded="false">Materijali</a></li>
        </ul>
    </li>
</ul>


    @Html.AntiForgeryToken()
<div id="myTabContent" class="tab-content">
    <div class="tab-pane fade  active in" id="komentari">
        <h3>Komentari</h3>
        <h4 style="padding-left:3%">Postavi komentar</h4>
        <form style="padding-left:3%" class="form-horizontal">
            <fieldset>
                <div class="form-group">
                    <label for="inputEmail" class="col-lg-2 control-label">Email</label>
                    <div class="col-lg-10">
                        <input type="text" class="form-control" id="inputEmail" placeholder="Email">
                    </div>
                </div>
                <div class="form-group">
                    <label for="textArea" class="col-lg-2 control-label">Textarea</label>
                    <div class="col-lg-10">
                        <textarea class="form-control" rows="3" id="textArea"></textarea>
                        <span class="help-block">A longer block of help text that breaks onto a new line and may extend beyond one line.</span>
                    </div>
                </div>
            </fieldset>
        </form>

    </div>
    <div class="tab-pane fade" id="promene">
        <p>promene fund seitan letterpress, keytar raw denim keffiyeh etsy art party before they sold out master cleanse gluten-free squid scenester freegan cosby sweater. Fanny pack portland seitan DIY, art party locavore wolf cliche high life echo park Austin. Cred vinyl keffiyeh DIY salvia PBR, banh mi before they sold out farm-to-table VHS viral locavore cosby sweater.</p>
    </div>
    <div>
        <div class="tab-pane fade" id="proizvRadn" style="width:50%; margin: 0, auto;">

            <table class="table">
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => _potrebaStruke.Struka.StrukaNaziv)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => _potrebaStruke.Zadatak.ZadatakNaziv)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => _potrebaStruke.PotrebaStrukeOdDatuma)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => _potrebaStruke.PotrebaStrukeDoDatuma)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => _potrebaStruke.PotrebaStrukeKolicina)
                    </th>
                </tr>

                @foreach (var item in Model.PotrebeStruka)
            {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.Struka.StrukaNaziv)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Zadatak.ZadatakNaziv)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.PotrebaStrukeOdDatuma)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.PotrebaStrukeDoDatuma)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.PotrebaStrukeKolicina)
                        </td>
                    </tr>
                }

            </table>
        </div>
    </div>
    <div class="tab-pane fade" id="masine">
        <table class="table">
            <tr>
                <th>
                    @Html.DisplayNameFor(model => _potrebaTipaMasine.TipMasine.TipMasineNaziv)
                </th>
                <th>
                    @Html.DisplayNameFor(model => _potrebaTipaMasine.Zadatak.ZadatakNaziv)
                </th>
                <th>
                    @Html.DisplayNameFor(model => _potrebaTipaMasine.PotrTipaMasOdDatuma)
                </th>
                <th>
                    @Html.DisplayNameFor(model => _potrebaTipaMasine.PotrTipaMasDoDatuma)
                </th>
                <th>
                    @Html.DisplayNameFor(model => _potrebaTipaMasine.PotrTipaMasKolicina)
                </th>
            </tr>

            @foreach (var item in Model.PotrebeTipovaMasina)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.TipMasine.TipMasineNaziv)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Zadatak.ZadatakNaziv)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.PotrTipaMasOdDatuma)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.PotrTipaMasDoDatuma)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.PotrTipaMasKolicina)
                    </td>
                </tr>
            }

        </table>
    </div>

    <div class="tab-pane fade" id="materijali">
        <table class="table">
            <tr>
                <th>
                    @Html.DisplayNameFor(model => _potrebaMaterijala.Materijal.MaterijalNaziv)
                </th>
                <th>
                    @Html.DisplayNameFor(model => _potrebaMaterijala.Zadatak.ZadatakNaziv)
                </th>
                <th>
                    @Html.DisplayNameFor(model => _potrebaMaterijala.PotrMatKolicina)
                </th>
            </tr>

            @foreach (var item in Model.PotrebeMaterijala)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.Materijal.MaterijalNaziv)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Zadatak.ZadatakNaziv)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.PotrMatKolicina)
                    </td>
                </tr>
            }
        </table>
    </div>
</div>
