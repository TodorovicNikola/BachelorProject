@model IEnumerable<ConstructIT.DAL.Models.Korisnik>
@using ConstructIT.DAL.Models

@{
    ViewBag.Title = "Korisnici";

    Korisnik korisnik = (Korisnik)Session["korisnik"];
}

<h2>Korisnici</h2>

@if (korisnik.KorisnikTip == "Administrator")
{
    <p>
        @Html.ActionLink("Dodaj novog", "Create")
    </p>
}

<hr />

<table class="table table-striped table-hover">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.KorisnikEMail)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.KorisnikIme)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.KorisnikPrezime)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.KorisnikTelefon)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.KorisnikTip)
        </th>
        @if (korisnik.KorisnikTip == "admin")
        {
            <th></th>
        }
        
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.KorisnikEMail)
        </td>

        <td>
            @Html.DisplayFor(modelItem => item.KorisnikIme)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.KorisnikPrezime)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.KorisnikTelefon)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.KorisnikTip)
        </td>
        @if (korisnik.KorisnikTip == "Administrator")
        {
            <td>
                @Html.ActionLink("Izmeni", "Edit", new { id = item.KorisnikID }) |
                @Html.ActionLink("Obriši", "Delete", new { id = item.KorisnikID })
            </td>
        }

    </tr>
}

</table>
